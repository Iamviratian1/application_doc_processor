# Document Processing Configuration
# Clean configuration for mortgage document processing

document_types:
  mortgage_application:
    name: "Mortgage Application Form"
    description: "Primary mortgage application form"
    priority: 1
    mandatory: true
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 10
    
  # Identity Documents
  drivers_license:
    name: "Driver's License"
    description: "Driver's license or permit for identity verification"
    priority: 2
    mandatory: true
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  passport:
    name: "Passport"
    description: "Canadian passport for identity verification"
    priority: 2
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  # Employment Documents
  employment_letter:
    name: "Employment Letter"
    description: "Letter from employer confirming employment"
    priority: 2
    mandatory: true
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  pay_stub:
    name: "Pay Stub"
    description: "Recent pay stub for income verification"
    priority: 3
    mandatory: true
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  employment_contract:
    name: "Employment Contract"
    description: "Employment contract or agreement"
    priority: 3
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  # Tax Documents
  t4_form:
    name: "T4 Tax Form"
    description: "Canadian T4 tax form for income verification"
    priority: 2
    mandatory: true
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  cra_noa:
    name: "CRA Notice of Assessment"
    description: "Canada Revenue Agency Notice of Assessment"
    priority: 3
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  # Financial Documents
  bank_statement:
    name: "Bank Statement"
    description: "Bank account statement for financial verification"
    priority: 3
    mandatory: true
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 10
    
  savings_statement:
    name: "Savings Statement"
    description: "Savings account statement"
    priority: 4
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  investment_statement:
    name: "Investment Statement"
    description: "Investment account statement (RRSP, TFSA, etc.)"
    priority: 4
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  # Debt Documents
  credit_card_statement:
    name: "Credit Card Statement"
    description: "Credit card statement for debt verification"
    priority: 4
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  loan_statement:
    name: "Loan Statement"
    description: "Personal loan statement"
    priority: 4
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  mortgage_statement:
    name: "Mortgage Statement"
    description: "Existing mortgage statement"
    priority: 4
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  # Credit Documents
  credit_report:
    name: "Credit Report"
    description: "Credit report for creditworthiness assessment"
    priority: 4
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 10
    
  # Property Documents
  purchase_agreement:
    name: "Purchase Agreement"
    description: "Property purchase agreement"
    priority: 3
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 10
    
  property_assessment:
    name: "Property Assessment"
    description: "Property assessment for valuation"
    priority: 4
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  # Address Proof Documents
  utility_bill:
    name: "Utility Bill"
    description: "Utility bill for address verification (hydro, gas, water, internet)"
    priority: 3
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  rental_agreement:
    name: "Rental Agreement"
    description: "Rental or lease agreement for address verification"
    priority: 3
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5
    
  # Other Documents
  gift_letter:
    name: "Gift Letter"
    description: "Gift letter for down payment source verification"
    priority: 4
    mandatory: false
    supported_formats: ["pdf", "png", "jpg", "jpeg"]
    max_file_size_mb: 5

# Field Extraction Configuration
field_extraction:
  mortgage_application:
    queries:
      # PAGE 1: Personal Information + Employment Information
      # Personal Information - Primary Applicant
      - text: "What is the first name?"
        alias: "applicant_first_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        page: 1
        
      - text: "What is the last name?"
        alias: "applicant_last_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the date of birth?"
        alias: "applicant_dob"
        field_type: "date"
        required: true
        validation_tolerance: "exact"
        
      - text: "What is the SIN?"
        alias: "applicant_sin"
        field_type: "text"
        required: true
        validation_tolerance: "exact"
        
      - text: "What is the marital status?"
        alias: "applicant_marital_status"
        field_type: "text"
        required: false
        validation_tolerance: 0.8
        
      - text: "What is the phone number?"
        alias: "applicant_phone"
        field_type: "phone"
        required: false
        validation_tolerance: 0.8
        
      - text: "What is the email?"
        alias: "applicant_email"
        field_type: "email"
        required: false
        validation_tolerance: 0.9
        
      - text: "What is the address?"
        alias: "applicant_address"
        field_type: "text"
        required: true
        validation_tolerance: 0.7
        
      - text: "What is the residency status?"
        alias: "applicant_residency_status"
        field_type: "text"
        required: false
        validation_tolerance: 0.8
        
      # Employment - Primary Applicant
      - text: "What is the employment status?"
        alias: "employment_status"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the employer name?"
        alias: "employer_name"
        field_type: "text"
        required: false
        validation_tolerance: 0.7
        
      - text: "What is the employer address?"
        alias: "employer_address"
        field_type: "text"
        required: false
        validation_tolerance: 0.7
        
      - text: "What is the job title?"
        alias: "job_title"
        field_type: "text"
        required: false
        validation_tolerance: 0.8
        
      - text: "How many years at current job?"
        alias: "years_at_job"
        field_type: "number"
        required: false
        validation_tolerance: 0.1
        
      - text: "What is the annual income?"
        alias: "annual_income"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What are the other income sources?"
        alias: "other_income_sources"
        field_type: "text"
        required: false
        validation_tolerance: 0.8
        
      # PAGE 2: Loan Information + Property Information
      # Loan Information
      - text: "What is the purchase price?"
        alias: "loan_purchase_price"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the down payment amount?"
        alias: "loan_down_payment"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the loan amount?"
        alias: "loan_amount"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the loan purpose?"
        alias: "loan_purpose"
        field_type: "text"
        required: false
        validation_tolerance: 0.8
        
      # Subject Property (Target Purchase)
      - text: "What is the property address?"
        alias: "property_address"
        field_type: "text"
        required: true
        validation_tolerance: 0.7
        
      - text: "What is the property type?"
        alias: "property_type"
        field_type: "text"
        required: false
        validation_tolerance: 0.8
        
      - text: "What is the property purchase price?"
        alias: "property_purchase_price"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the closing date?"
        alias: "property_closing_date"
        field_type: "date"
        required: false
        validation_tolerance: 0.8
        
      # PAGE 3: Assets + Liabilities
      # Assets - Primary Applicant
      - text: "What is the bank balance?"
        alias: "asset_bank_balance"
        field_type: "currency"
        required: false
        validation_tolerance: 0.1
        
      - text: "What is the RRSP or TFSA balance?"
        alias: "asset_rrsp_tfsa_balance"
        field_type: "currency"
        required: false
        validation_tolerance: 0.1
        
      - text: "What is the vehicle value?"
        alias: "asset_vehicle_value"
        field_type: "currency"
        required: false
        validation_tolerance: 0.1
        
      # Liabilities - Primary Applicant
      - text: "What is the credit card balance?"
        alias: "liab_cc_balance"
        field_type: "currency"
        required: false
        validation_tolerance: 0.1
        
      - text: "What is the loan balance?"
        alias: "liab_loan_balance"
        field_type: "currency"
        required: false
        validation_tolerance: 0.1
        
      - text: "What is the line of credit balance?"
        alias: "liab_loc_balance"
        field_type: "currency"
        required: false
        validation_tolerance: 0.1

  t4_form:
    queries:
      - text: "What is the employee name?"
        alias: "employee_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the Social Insurance Number?"
        alias: "sin"
        field_type: "text"
        required: true
        validation_tolerance: "exact"
        
      - text: "What is the tax year?"
        alias: "tax_year"
        field_type: "text"
        required: true
        validation_tolerance: 0.9
        
      - text: "What is the gross income in box 14?"
        alias: "gross_income"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the employer name?"
        alias: "employer_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.7
        
      - text: "What is the employer's address?"
        alias: "employer_address"
        field_type: "text"
        required: false
        validation_tolerance: 0.6

  employment_letter:
    queries:
      - text: "What is the employee name?"
        alias: "employee_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the employer name?"
        alias: "employer_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.7
        
      - text: "What is the employee's position or job title?"
        alias: "position"
        field_type: "text"
        required: true
        validation_tolerance: 0.7
        
      - text: "What is the start date of employment?"
        alias: "start_date"
        field_type: "date"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the annual salary?"
        alias: "annual_salary"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the employment status?"
        alias: "employment_status"
        field_type: "text"
        required: true
        validation_tolerance: 0.8

  bank_statement:
    queries:
      - text: "What is the account holder name?"
        alias: "account_holder"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the account number?"
        alias: "account_number"
        field_type: "text"
        required: true
        validation_tolerance: 0.9
        
      - text: "What is the statement period?"
        alias: "statement_period"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the beginning balance?"
        alias: "beginning_balance"
        field_type: "currency"
        required: true
        validation_tolerance: 0.1
        
      - text: "What is the ending balance?"
        alias: "ending_balance"
        field_type: "currency"
        required: true
        validation_tolerance: 0.1
        
      - text: "What type of account is this?"
        alias: "account_type"
        field_type: "text"
        required: false
        validation_tolerance: 0.8

  pay_stub:
    queries:
      - text: "What is the employee name?"
        alias: "employee_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the employer name?"
        alias: "employer_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.7
        
      - text: "What is the pay period?"
        alias: "pay_period"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the gross pay?"
        alias: "gross_pay"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the net pay?"
        alias: "net_pay"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the year-to-date gross pay?"
        alias: "ytd_gross"
        field_type: "currency"
        required: false
        validation_tolerance: 0.05

  credit_report:
    queries:
      - text: "What is the report date?"
        alias: "report_date"
        field_type: "date"
        required: true
        validation_tolerance: 0.9
        
      - text: "What is the credit score?"
        alias: "credit_score"
        field_type: "number"
        required: true
        validation_tolerance: 0.05
        
      - text: "Which credit bureau issued this report?"
        alias: "credit_bureau"
        field_type: "text"
        required: false
        validation_tolerance: 0.8
        
      - text: "How many accounts are listed?"
        alias: "account_count"
        field_type: "number"
        required: false
        validation_tolerance: 0.1
        
      - text: "How many delinquent accounts are there?"
        alias: "delinquent_accounts"
        field_type: "number"
        required: false
        validation_tolerance: 0.1

  property_assessment:
    queries:
      - text: "What is the property address?"
        alias: "property_address"
        field_type: "text"
        required: true
        validation_tolerance: 0.7
        
      - text: "What is the assessed value?"
        alias: "assessed_value"
        field_type: "currency"
        required: true
        validation_tolerance: 0.1
        
      - text: "What is the assessment date?"
        alias: "assessment_date"
        field_type: "date"
        required: true
        validation_tolerance: 0.8
        
      - text: "What type of property is this?"
        alias: "property_type"
        field_type: "text"
        required: false
        validation_tolerance: 0.8
        
      - text: "What is the land value?"
        alias: "land_value"
        field_type: "currency"
        required: false
        validation_tolerance: 0.1
        
      - text: "What is the building value?"
        alias: "building_value"
        field_type: "currency"
        required: false
        validation_tolerance: 0.1

  insurance_document:
    queries:
      - text: "What is the policy holder's name?"
        alias: "policy_holder"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the policy number?"
        alias: "policy_number"
        field_type: "text"
        required: true
        validation_tolerance: 0.9
        
      - text: "What type of policy is this?"
        alias: "policy_type"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the coverage amount?"
        alias: "coverage_amount"
        field_type: "currency"
        required: true
        validation_tolerance: 0.1
        
      - text: "What is the effective date?"
        alias: "effective_date"
        field_type: "date"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the expiry date?"
        alias: "expiry_date"
        field_type: "date"
        required: false
        validation_tolerance: 0.8

  # Identity Documents
  drivers_license:
    queries:
      - text: "what is the name"
        alias: "license_holder_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "what is DOB"
        alias: "license_dob"
        field_type: "date"
        required: true
        validation_tolerance: "exact"
        
      - text: "What is the address?"
        alias: "license_address"
        field_type: "text"
        required: true
        validation_tolerance: 0.7
        
      - text: "What is the license number?"
        alias: "license_number"
        field_type: "text"
        required: true
        validation_tolerance: "exact"
        
      - text: "What is the license class?"
        alias: "license_class"
        field_type: "text"
        required: false
        validation_tolerance: 0.8

  passport:
    queries:
      - text: "What is the name?"
        alias: "passport_holder_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the date of birth?"
        alias: "passport_dob"
        field_type: "date"
        required: true
        validation_tolerance: "exact"
        
      - text: "What is the passport number?"
        alias: "passport_number"
        field_type: "text"
        required: true
        validation_tolerance: "exact"
        
      - text: "What is the nationality?"
        alias: "nationality"
        field_type: "text"
        required: false
        validation_tolerance: 0.8
        
      - text: "What is the expiry date?"
        alias: "passport_expiry"
        field_type: "date"
        required: false
        validation_tolerance: 0.8

  # Employment Documents
  employment_contract:
    queries:
      - text: "What is the employee name?"
        alias: "contract_employee_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the employer name?"
        alias: "contract_employer_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.7
        
      - text: "What is the job title?"
        alias: "contract_job_title"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the start date?"
        alias: "contract_start_date"
        field_type: "date"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the annual salary?"
        alias: "contract_annual_salary"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the employment type?"
        alias: "contract_employment_type"
        field_type: "text"
        required: false
        validation_tolerance: 0.8

  # Tax Documents
  cra_noa:
    queries:
      - text: "What is the taxpayer's name on the NOA?"
        alias: "noa_taxpayer_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the SIN on the NOA?"
        alias: "noa_sin"
        field_type: "text"
        required: true
        validation_tolerance: "exact"
        
      - text: "What is the tax year on the NOA?"
        alias: "noa_tax_year"
        field_type: "text"
        required: true
        validation_tolerance: 0.9
        
      - text: "What is the total income on the NOA?"
        alias: "noa_total_income"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the net income on the NOA?"
        alias: "noa_net_income"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05

  # Financial Documents
  savings_statement:
    queries:
      - text: "What is the account holder's name on the savings statement?"
        alias: "savings_account_holder"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the account number on the savings statement?"
        alias: "savings_account_number"
        field_type: "text"
        required: true
        validation_tolerance: 0.9
        
      - text: "What is the statement period on the savings statement?"
        alias: "savings_statement_period"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the current balance on the savings statement?"
        alias: "savings_current_balance"
        field_type: "currency"
        required: true
        validation_tolerance: 0.1
        
      - text: "What is the account type on the savings statement?"
        alias: "savings_account_type"
        field_type: "text"
        required: false
        validation_tolerance: 0.8

  investment_statement:
    queries:
      - text: "What is the account holder's name on the investment statement?"
        alias: "investment_account_holder"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the account number on the investment statement?"
        alias: "investment_account_number"
        field_type: "text"
        required: true
        validation_tolerance: 0.9
        
      - text: "What is the statement period on the investment statement?"
        alias: "investment_statement_period"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the current balance on the investment statement?"
        alias: "investment_current_balance"
        field_type: "currency"
        required: true
        validation_tolerance: 0.1
        
      - text: "What type of investment account is this?"
        alias: "investment_account_type"
        field_type: "text"
        required: false
        validation_tolerance: 0.8

  # Debt Documents
  credit_card_statement:
    queries:
      - text: "What is the cardholder's name on the credit card statement?"
        alias: "cc_cardholder_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the credit card number on the statement?"
        alias: "cc_card_number"
        field_type: "text"
        required: true
        validation_tolerance: 0.9
        
      - text: "What is the statement period on the credit card statement?"
        alias: "cc_statement_period"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the current balance on the credit card statement?"
        alias: "cc_current_balance"
        field_type: "currency"
        required: true
        validation_tolerance: 0.1
        
      - text: "What is the credit limit on the credit card statement?"
        alias: "cc_credit_limit"
        field_type: "currency"
        required: false
        validation_tolerance: 0.1

  loan_statement:
    queries:
      - text: "What is the borrower's name on the loan statement?"
        alias: "loan_borrower_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the loan account number on the statement?"
        alias: "loan_account_number"
        field_type: "text"
        required: true
        validation_tolerance: 0.9
        
      - text: "What is the statement period on the loan statement?"
        alias: "loan_statement_period"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the current balance on the loan statement?"
        alias: "loan_current_balance"
        field_type: "currency"
        required: true
        validation_tolerance: 0.1
        
      - text: "What is the monthly payment on the loan statement?"
        alias: "loan_monthly_payment"
        field_type: "currency"
        required: false
        validation_tolerance: 0.05

  mortgage_statement:
    queries:
      - text: "What is the borrower's name on the mortgage statement?"
        alias: "mortgage_borrower_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the mortgage account number on the statement?"
        alias: "mortgage_account_number"
        field_type: "text"
        required: true
        validation_tolerance: 0.9
        
      - text: "What is the statement period on the mortgage statement?"
        alias: "mortgage_statement_period"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the current balance on the mortgage statement?"
        alias: "mortgage_current_balance"
        field_type: "currency"
        required: true
        validation_tolerance: 0.1
        
      - text: "What is the monthly payment on the mortgage statement?"
        alias: "mortgage_monthly_payment"
        field_type: "currency"
        required: false
        validation_tolerance: 0.05

  # Property Documents
  purchase_agreement:
    queries:
      - text: "What is the buyer's name on the purchase agreement?"
        alias: "purchase_buyer_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the property address on the purchase agreement?"
        alias: "purchase_property_address"
        field_type: "text"
        required: true
        validation_tolerance: 0.7
        
      - text: "What is the purchase price on the agreement?"
        alias: "purchase_price"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the down payment amount on the agreement?"
        alias: "purchase_down_payment"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the closing date on the purchase agreement?"
        alias: "purchase_closing_date"
        field_type: "date"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the property type on the purchase agreement?"
        alias: "purchase_property_type"
        field_type: "text"
        required: false
        validation_tolerance: 0.8

  # Address Proof Documents
  utility_bill:
    queries:
      - text: "What is the account holder's name on the utility bill?"
        alias: "utility_account_holder"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the service address on the utility bill?"
        alias: "utility_service_address"
        field_type: "text"
        required: true
        validation_tolerance: 0.7
        
      - text: "What is the billing period on the utility bill?"
        alias: "utility_billing_period"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the amount due on the utility bill?"
        alias: "utility_amount_due"
        field_type: "currency"
        required: false
        validation_tolerance: 0.1
        
      - text: "What type of utility service is this?"
        alias: "utility_service_type"
        field_type: "text"
        required: false
        validation_tolerance: 0.8

  rental_agreement:
    queries:
      - text: "What is the tenant's name on the rental agreement?"
        alias: "rental_tenant_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the landlord's name on the rental agreement?"
        alias: "rental_landlord_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the rental property address on the agreement?"
        alias: "rental_property_address"
        field_type: "text"
        required: true
        validation_tolerance: 0.7
        
      - text: "What is the monthly rent amount on the agreement?"
        alias: "rental_monthly_rent"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the lease start date on the rental agreement?"
        alias: "rental_lease_start_date"
        field_type: "date"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the lease end date on the rental agreement?"
        alias: "rental_lease_end_date"
        field_type: "date"
        required: false
        validation_tolerance: 0.8

  # Other Documents
  gift_letter:
    queries:
      - text: "What is the donor's name on the gift letter?"
        alias: "gift_donor_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the recipient's name on the gift letter?"
        alias: "gift_recipient_name"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the gift amount on the letter?"
        alias: "gift_amount"
        field_type: "currency"
        required: true
        validation_tolerance: 0.05
        
      - text: "What is the purpose of the gift on the letter?"
        alias: "gift_purpose"
        field_type: "text"
        required: true
        validation_tolerance: 0.8
        
      - text: "What is the date of the gift letter?"
        alias: "gift_letter_date"
        field_type: "date"
        required: true
        validation_tolerance: 0.8

# Field Mapping Configuration
# Maps fields from different sources to standardized field names for comparison
field_mapping:
  # Personal Information Fields
  APPLICANT_FIRST_NAME:
    application_form_field: "applicant_first_name"
    document_fields: ["applicant_first_name", "employee_name", "policy_holder"]
    comparison_type: "text"
    
  APPLICANT_LAST_NAME:
    application_form_field: "applicant_last_name"
    document_fields: ["applicant_last_name"]
    comparison_type: "text"
    
  APPLICANT_DOB:
    application_form_field: "applicant_dob"
    document_fields: ["applicant_dob"]
    comparison_type: "date"
    
  APPLICANT_SIN:
    application_form_field: "applicant_sin"
    document_fields: ["applicant_sin", "sin"]
    comparison_type: "text"
    
  APPLICANT_ADDRESS:
    application_form_field: "applicant_address"
    document_fields: ["applicant_address"]
    comparison_type: "text"
    
  APPLICANT_PHONE:
    application_form_field: "applicant_phone"
    document_fields: ["applicant_phone"]
    comparison_type: "text"
    
  APPLICANT_EMAIL:
    application_form_field: "applicant_email"
    document_fields: ["applicant_email"]
    comparison_type: "text"
    
  # Financial Information Fields
  ANNUAL_INCOME:
    application_form_field: "annual_income"
    document_fields: ["annual_income", "gross_income", "annual_salary"]
    comparison_type: "currency"
    
  EMPLOYMENT_STATUS:
    application_form_field: "employment_status"
    document_fields: ["employment_status"]
    comparison_type: "text"
    
  EMPLOYER_NAME:
    application_form_field: "employer_name"
    document_fields: ["employer_name"]
    comparison_type: "text"
    
  # Bank Information Fields
  ACCOUNT_HOLDER:
    application_form_field: "account_holder"
    document_fields: ["account_holder"]
    comparison_type: "text"
    
  ACCOUNT_NUMBER:
    application_form_field: "account_number"
    document_fields: ["account_number"]
    comparison_type: "text"
    
  BANK_BALANCE:
    application_form_field: "bank_balance"
    document_fields: ["beginning_balance", "ending_balance"]
    comparison_type: "currency"
    
  # Credit Information Fields
  CREDIT_SCORE:
    application_form_field: "credit_score"
    document_fields: ["credit_score"]
    comparison_type: "number"
    
  # Property Information Fields
  PROPERTY_ADDRESS:
    application_form_field: "property_address"
    document_fields: ["property_address"]
    comparison_type: "text"
    
  PROPERTY_VALUE:
    application_form_field: "property_value"
    document_fields: ["assessed_value", "land_value", "building_value"]
    comparison_type: "currency"

# Validation Rules
validation_rules:
  # Fields that must match exactly between application form and documents
  critical_fields:
    - "APPLICANT_FIRST_NAME"
    - "APPLICANT_LAST_NAME"
    - "APPLICANT_DOB"
    - "APPLICANT_SIN"
    - "ANNUAL_INCOME"
    
  # Fields that should match closely but allow some tolerance
  important_fields:
    - "APPLICANT_ADDRESS"
    - "EMPLOYMENT_STATUS"
    - "EMPLOYER_NAME"
    - "CREDIT_SCORE"
    
  # Fields that are nice to have but not critical
  optional_fields:
    - "APPLICANT_PHONE"
    - "APPLICANT_EMAIL"
    - "ACCOUNT_HOLDER"
    - "ACCOUNT_NUMBER"
    - "BANK_BALANCE"
    - "PROPERTY_ADDRESS"
    - "PROPERTY_VALUE"
    
  # Comparison tolerances by field type
  field_types:
    text:
      default_tolerance: 0.8
      critical_tolerance: "exact"
      description: "Text similarity comparison"
      
    currency:
      default_tolerance: 0.05  # 5% difference allowed
      critical_tolerance: 0.02  # 2% for critical fields
      description: "Percentage difference comparison"
      
    date:
      default_tolerance: "exact"
      critical_tolerance: "exact"
      description: "Exact date match required"
      
    number:
      default_tolerance: 0.05  # 5% difference allowed
      critical_tolerance: 0.02  # 2% for critical fields
      description: "Percentage difference comparison"
      
    phone:
      default_tolerance: 0.8
      critical_tolerance: 0.8
      description: "Phone number similarity"
      
    email:
      default_tolerance: 0.9
      critical_tolerance: 0.9
      description: "Email similarity"

# Processing Configuration
processing:
  max_concurrent_uploads: 5
  max_concurrent_jobs: 3
  max_file_size_mb: 50
  default_confidence_threshold: 0.8
  retry_attempts: 3
  job_timeout_seconds: 300
